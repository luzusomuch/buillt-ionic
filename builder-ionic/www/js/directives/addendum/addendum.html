<div id="modal_attachAddendum" class="modal modal-fixed-footer">
    <form ng-submit="sendAddendum()">
    <div class="modal-content">
    <h5>Attach an Addenda to Package {{package.name}}</h5>
      <!-- <div class="row">
        <div class="input-field col s12">
           <textarea id="addenda_description" class="materialize-textarea" ng-model="addendum.description"></textarea>
               <label for="addenda_description">Describe the addendum...</label>
            </div>
      </div> -->
      
       <div class="row" ng-if="package.type == 'material'">
         <div class="col s12">
          <ul class="collection z-depth-1">
            <li class="collection-item vlalign-wrapper">
              <div class="row form" style="margin-bottom: 0px">
                <div class="col s12"><p>Edit your scope of work below:</p></div>
                <div class="input-field col s12 m7">
                   <textarea id="description" class="materialize-textarea" ng-model="addendum.scopeDescription"></textarea>
                       <label for="description">Description</label>
                    </div>
                <div class="input-field col s6 m3" style="margin-top: 67px">
                        <input id="quantity" type="number" class="validate" ng-model="addendum.quantity">
                        <label for="quantity">Quantity</label>
                    </div>
                <div class="valign col s6 m2">
                  <a ng-click="addAddendum()" class="btn" type="submit" name="action" style="margin-top: 78px;">Add</a>
                </div>
              </div>
            </li>
              <li class="collection-item vlalign" ng-repeat="addendum in addendumsScope">
                <div class="row" style="margin-bottom: 0px">
                  <div class="col s12 m7">
                    <p>{{addendum.scopeDescription}}</p>
                  </div>
                  <div class="col s6 m3">
                    <p>{{addendum.quantity}}</p>
                  </div>
                  <div class="col s6 m2">
                    <a class="btn-flat btn-flat" ng-click="removeAddendum($index)">Remove</a>
                  </div>
                </div>
              </li>

              <div class="row" ng-show="error">
                <div class="col s12">
                  <p class="validate-message">Please check your input again!!</p>
                </div>
              </div>
              <li class="collection-item vlalign" ng-repeat="addendum in package.addendums | filter:{isHidden: 'false'}">
                
                <div class="row">
                  <h6>{{addendum.description}}</h6>
                  <div class="col s12">
                    <div class="row" ng-hide="hideAddendum">
                      <div class="col s6">
                        <p style="word-break:break-all">{{addendum.addendumsScope.description}}</p>
                      </div>
                      <div class="col s3">
                        <p style="word-break:break-all">{{addendum.addendumsScope.quantity}}</p>
                      </div>
                      <div class="col s3">
                        <a class="btn-flat btn-flat" ng-click="remove(addendum._id)">Remove</a>
                        <a class="btn-flat btn-flat" ng-click="hideAddendum = true; showEdit = true;">Edit</a>
                      </div>
                    </div>
                    <div class="row" ng-show="showEdit">
                      <!-- <div class="row">
                        <div class="form-field col s12">
                          <div contentEditable="true" ng-model="editAddendum.description">{{addendum.description}}</div>
                        </div>
                      </div> -->
                      <div class="row">
                        <div class="form-field col s8">
                          <div contentEditable="true" ng-model="editAddendum.scopeDescription">{{addendum.addendumsScope.description}}</div>
                        </div>
                        <div class="form-field col s4">
                          <div contentEditable="true" ng-model="editAddendum.quantity">{{addendum.addendumsScope.quantity}}</div>
                        </div>
                      </div>
                      <div class="row">
                        <a class="btn-flat btn-flat" ng-click="edit(addendum._id);showEdit = false; hideAddendum = false">Save</a>
                        <a class="btn-flat btn-flat" ng-click="showEdit = false; hideAddendum = false">Cancel</a>
                      </div>
                    </div>
                  </div>
                </div>
              </li>
            </ul>
         </div>
       </div>
       <div class="row" ng-if="package.type == 'contractor' || package.packageType == 'contractor' || package.type == 'variation'">
         <div class="col s12">
          <ul class="collection z-depth-1">
            <li class="collection-item vlalign-wrapper">
              <div class="row form" style="margin-bottom: 0px">
                <div class="col s12"><p>Edit your scope of work below:</p></div>
                <div class="input-field col s8 m10">
                   <textarea id="description" class="materialize-textarea" ng-model="addendum.scopeDescription"></textarea>
                       <label for="description">Description</label>
                    </div>
                <!-- <div class="input-field col s3" style="margin-top: 67px">
                        <input id="quantity" type="number" class="validate" ng-model="addendum.quantity">
                        <label for="quantity">Quantity</label>
                    </div> -->
                <div class="valign col s2 m2">
                  <a ng-click="addAddendum()" class="btn" type="submit" name="action" style="margin-top: 78px;">Add</a>
                </div>
              </div>
            </li>
              <li class="collection-item vlalign" ng-repeat="addendum in addendumsScope">
                <div class="row" style="margin-bottom: 0px">
                  <div class="col s8">
                    <p style="word-break:break-all;">{{addendum.scopeDescription}}</p>
                  </div>
                  <!-- <div class="col s3">
                    <p>{{addendum.quantity}}</p>
                  </div> -->
                  <div class="col s2">
                    <a class="btn-flat btn-flat" ng-click="removeAddendum($index)">Remove</a>
                  </div>
                </div>
              </li>

              <div class="row" ng-show="error">
                <div class="col s12">
                  <p class="validate-message">Please check your input again!!</p>
                </div>
              </div>
              <li class="collection-item vlalign" ng-repeat="addendum in package.addendums | filter:{isHidden: 'false'}">
                
                <div class="row">
                  <h6>{{addendum.description}}</h6>
                  <div class="col s12">
                    <div class="row" ng-hide="hideAddendum">
                      <div class="col s8">
                        <p>{{addendum.addendumsScope.description}}</p>
                      </div>
                      <!-- <div class="col s3">
                        <p>{{addendum.addendumsScope.quantity}}</p>
                      </div> -->
                      <div class="col s3">
                        <a class="btn-flat btn-flat" ng-click="remove(addendum._id)">Remove</a>
                        <a class="btn-flat btn-flat" ng-click="hideAddendum = true; showEdit = true;">Edit</a>
                      </div>
                    </div>
                    <div class="row" ng-show="showEdit">
                      <!-- <div class="row">
                        <div class="form-field col s12">
                          <div contentEditable="true" ng-model="editAddendum.description">{{addendum.description}}</div>
                        </div>
                      </div> -->
                      <div class="row">
                        <div class="form-field col s11">
                          <div contentEditable="true" ng-model="editAddendum.scopeDescription">{{addendum.addendumsScope.description}}</div>
                        </div>
                        <!-- <div class="form-field col s4">
                          <div contentEditable="true" ng-model="editAddendum.quantity">{{addendum.addendumsScope.quantity}}</div>
                        </div> -->
                      </div>
                      <div class="row">
                        <a class="btn-flat btn-flat" ng-click="edit(addendum._id);showEdit = false; hideAddendum = false">Save</a>
                        <a class="btn-flat btn-flat" ng-click="showEdit = false; hideAddendum = false">Cancel</a>
                      </div>
                    </div>
                  </div>
                </div>
              </li>
            </ul>
         </div>
       </div>
    </div>
  <div class="divider"></div>
    <div class="modal-footer">
        <button type="submit" class="modal-action modal-close waves-effect waves-green btn-flat ">Send Addendum!</button>
     <a class="modal-action modal-close waves-effect waves-green btn-flat ">Cancel</a>
    </div>
    </form>
</div>

<div ng-repeat="addendum in package.addendums | filter:{isHidden: 'false'}" id="modal-edit-addendum-{{addendum._id}}" class="modal">
  <h5>Edit addendum</h5>
  <form ng-submit="editAddendum(addendum._id)" method="POST">
    <div class="modal-content">
      <div class="row">
        <div class="input-field col s12">
          <input type="text" ng-model="addendum.description">
        </div>
      </div>
      <div class="row" ng-repeat="addendumScope in addendum.addendumsScope">
        <div class="input-field col s8">
          <input type="text" ng-model="addendumScope.description">
        </div>
        <div class="input-field col s4">
          <input type="text" ng-model="addendumScope.quantity">
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <button type="submit" class="modal-action modal-close">Save</button>
      <a class="modal-action modal-close">Close</a>
    </div>
  </form>
</div>
