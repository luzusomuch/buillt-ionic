<ion-view title='{{contractorRequest.name}}'>
  <ion-nav-back-button ng-click="$ionicGoBack($event)" class="button-icon icon ion-ios7-arrow-back">Back</ion-nav-back-button>
  <ion-tabs class="tabs-stable tabs-icon-top">
    <ion-tab title="Detail" icon="ion-ios7-cog-outline">
      <ion-content padding="true" class="has-header" style="margin-top: 40px;">
        <div>
          <p>Package description :</p>
            <ul style="margin-left: 50px">
              <li ng-repeat="addendum in contractorRequest.addendums">
                {{addendum.addendumsScope.description}}</li>              
            </ul>
        </div>
      </ion-content>
    </ion-tab>
    <!-- <ion-tab title="Messages" icon="ion-ios7-chatboxes-outline">
        <ion-content padding="false" class="has-header">
            <ion-list>
                <ion-item href="#/thread-detail">Thread 1</ion-item>
                <ion-item href="#/thread-detail">Thread 2</ion-item>
                <ion-item href="#/thread-detail">Thread 3</ion-item>
            </ion-list>
        </ion-content>
    </ion-tab> -->
    <ion-tab title="Messages" icon="ion-ios7-chatboxes-outline">
      <div message package="contractorRequest" type="contractor"></div>
    </ion-tab>
    <ion-tab title="Tasks" icon="ion-ios7-checkmark-outline">
      <div task package="contractorRequest" type="contractor"></div>
    </ion-tab>
    <ion-tab title="Documents" icon="ion-ios7-bookmarks-outline">
        <ion-content padding="false" class="has-header">
            <ion-list>
              <div style="margin-top: 50px;">
                <div ng-repeat="file in files">
                  <ion-item class="item-stable" ng-click="toggleFile(file)" ng-class="{active: isFileShown(file)}">{{file.title}}</ion-item>
                
                  <ion-item class="item-accordion" ng-show="isFileShown(file)">
                    <div class="card-image" ng-switch="file.mimeType">
                      <span ng-switch-when="image/jpeg">
                        <img src="{{file.thumbnail}}" alt="" style="width: 100%;">
                      </span>
                      <span ng-switch-when="image/png">
                        <img src="{{file.thumbnail}}" alt="" style="width: 100%;">
                      </span>
                      <span ng-switch-when="application/pdf">
                        <img src="{{file.thumbnail}}" alt="" style="height:250px;width: 100%;">
                      </span>
                      <span ng-switch-default>
                        <img src="../../media/sample-1.jpg" alt="" style="width: 100%;">
                      </span>
                    </div>
                    <div class="card-action">
                      <span style="cursor:pointer;" ng-click="likeDocument(file);">
                        <div>{{(file.isInterested) ? 'Dislike' : 'Like'}}</div>
                        <div class="secondary-content">{{file.totalLike}} Like</div>
                      </span>
                      <p style="cursor:pointer;">
                        <a href='{{file.fileUrl}}' download="file.name">Download</a>
                      </p>
                      <p>{{file.title}} <span><em>Revision {{file.version +1 }} of {{file.version +1 }}</em></span></p>
                      <!-- <a class="activator" ng-show="isLeader && currentTeam.type == 'builder'">Upload Revision</a> -->
                    </div>
                  </ion-item>
                </div>
              </div>
            </ion-list>
        </ion-content>
    </ion-tab>
  </ion-tabs>
</ion-view>