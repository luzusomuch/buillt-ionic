<ion-view title='{{materialRequest.name}}'>
  <ion-tabs class="tabs-stable tabs-icon-top">
    <ion-tab title="Detail" icon="ion-ios7-cog-outline">
      <ion-content padding="true" class="has-header" style="margin-top: 40px;">
        <div>
          <p>Package description :</p>
          <table style="width:100%">
            <thead>
              <tr class="row">
                <td class="col col-33">#</td>
                <td class="col col-33">Description</td>
                <td class="col col-33">Quantity</td>
              </tr>
            </thead>
            <tbody>
              <tr ng-repeat="addendum in materialRequest.addendums" class="row">
                <td class="col col-33">{{$index + 1}}</td>
                <td class="col col-33">{{addendum.addendumsScope.description}}</td>
                <td class="col col-33">{{addendum.addendumsScope.quantity}}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </ion-content>
    </ion-tab>
    <ion-tab title="Messages" icon="ion-ios7-chatboxes-outline">
      <div message package="materialRequest" type="material"></div>
    </ion-tab>
    <ion-tab title="Tasks" icon="ion-ios7-checkmark-outline">
      <div task package="materialRequest" type="material"></div>
    </ion-tab>
    <ion-tab title="Documents" icon="ion-ios7-bookmarks-outline">
        <ion-content padding="false" class="has-header">
            <ion-list>
              <div style="margin-top: 50px;">
                <div ng-repeat="file in files">
                  <ion-item class="item-stable" ng-click="toggleFile(file)" ng-class="{active: isFileShown(file)}">{{file.title}}</ion-item>
                
                  <ion-item class="item-accordion" ng-show="isFileShown(file)">
                    <div class="card-image" ng-switch="file.mimeType">
                      <span ng-switch-when="image/jpeg">
                        <img src="{{file.thumbnail}}" alt="" style="width: 100%;">
                      </span>
                      <span ng-switch-when="image/png">
                        <img src="{{file.thumbnail}}" alt="" style="width: 100%;">
                      </span>
                      <span ng-switch-when="application/pdf">
                        <img src="{{file.thumbnail}}" alt="" style="height:250px;width: 100%;">
                      </span>
                      <span ng-switch-default>
                        <img src="../../media/sample-1.jpg" alt="" style="width: 100%;">
                      </span>
                    </div>
                    <div class="card-action">
                      <span style="cursor:pointer;" ng-click="likeDocument(file);">
                        <div>{{(file.isInterested) ? 'Dislike' : 'Like'}}</div>
                        <div class="secondary-content">{{file.totalLike}} Like</div>
                      </span>
                      <p style="cursor:pointer;">
                        <a href='{{file.fileUrl}}' download="file.name">Download</a>
                      </p>
                      <p>{{file.title}} <span><em>Revision {{file.version +1 }} of {{file.version +1 }}</em></span></p>
                      <!-- <a class="activator" ng-show="isLeader && currentTeam.type == 'builder'">Upload Revision</a> -->
                    </div>
                  </ion-item>
                </div>
              </div>
            </ion-list>
        </ion-content>
    </ion-tab>
  </ion-tabs>
</ion-view>