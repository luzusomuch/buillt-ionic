<!DOCTYPE html>
<html ng-app="buiiltApp">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">
    <title></title>

    <link href="lib/ionic/css/ionic.css" rel="stylesheet">
    <!-- <link href="css/style.css" rel="stylesheet"> -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="http://code.ionicframework.com/ionicons/1.5.2/css/ionicons.min.css" rel="stylesheet">
    <link rel="stylesheet" href="lib/jquery-ui/themes/base/jquery-ui.css" />
    <!--<link rel="stylesheet" href="lib/angular-notify/angular-notify.css" />
    <link rel="stylesheet" href="lib/angular-loading-bar/build/loading-bar.css" />
    <link rel="stylesheet" href="dist/app.full.css" data-concat="false" />
    <link rel="stylesheet" href="lib/lumx/dist/lumx.css">
    <link rel="stylesheet" href="lib/materialize/bin/materialize.css">
    <link rel="stylesheet" href="lib/prism/themes/prism.css">
    <link rel="stylesheet" href="media/css/main.css">
    <link rel="stylesheet" href="media/css/normalize.css">-->
    <!-- <link rel="stylesheet" href="media/css/style.css"> -->
    <!--<link rel="stylesheet" href="media/css/materialize.css"> -->

    <!-- IF using Sass (run gulp sass first), then remove the CSS include above
    <link href="css/ionic.app.css" rel="stylesheet">
    -->
    

    <!-- ionic/angularjs js -->
    <script src="lib/jquery/dist/jquery.js"></script>
    <script src="lib/ionic/js/ionic.bundle.js"></script>

    <!-- cordova script (this will be a 404 during development) -->
    <script src="cordova.js"></script>
    
    <script src="plugins/com.phonegap.plugins.PushPlugin/www/PushNotification.js"></script>
    <script>
        window.deviceToken = '';
        window.deviceplatform = '';
        
        var pushNotification;
        
        function onNotificationAPN(event) {
            if (event.alert) {
                navigator.notification.alert(event.alert);
            }
            
            if (event.sound) {
                var snd = new Media(event.sound);
                snd.play();
            }
            
            if (event.badge) {
                pushNotification.setApplicationIconBadgeNumber(successHandler, errorHandler, event.badge);
            }
        }
    function errorHandler(error) {
        console.log('error = ' + error);
        alert('error = ' + error);
    }
    
    function tokenHandler(result) {
        // Your iOS push server needs to know the token before it can push to this device
        // here is where you might want to send it the token for later use.
        console.log('device token = ' + result);
        window.deviceToken = result;
        // alert(result);
    }
    
    document.addEventListener("deviceready", function () {
                              pushNotification = window.plugins.pushNotification;
                              
                              window.deviceplatform = device.platform.toLowerCase();
                              // alert(window.deviceplatform);
                              if (window.deviceplatform === 'ios' ) {
                              //ios
                              console.log('<li>registering ' + device.platform + '</li>');
                              pushNotification.register(
                                                        tokenHandler,
                                                        errorHandler,
                                                        {
                                                        "badge": "true",
                                                        "sound": "true",
                                                        "alert": "true",
                                                        "ecb": "onNotificationAPN"
                                                        });
                              }
                              });
        </script>
    <!-- your app's js -->
    <script src="js/app.js"></script>
    

    
</head>

<body animation="slide-left-right-ios7">
    <div>
        <div>
            <ion-nav-bar class="bar-stable">
                <ion-nav-back-button class="button-icon icon ion-ios7-arrow-back">Back</ion-nav-back-button>

                <a ng-if="currentState.name == 'dashboard'" class="button button-icon" style="float:right; z-index:999;" ui-sref="signout">Sign out</a>
                
                <a ng-if="(currentState.name == 'client' || 
                    currentState.name == 'materialRequestInProcess' ||
                    currentState.name == 'contractorRequestInProgress' ||
                    currentState.name == 'staffView') && isShowAddIcon" 
                    class="button button-icon" 
                    id="newTaskOrMessage" 
                    style="float:right; z-index:999;">
                    <i class="icon ion-plus"></i>
                </a>
            </ion-nav-bar>
            <ion-nav-view></ion-nav-view>
        </div>
    </div>
  
    <!-- <built-footer  ng-if="hasFooter"></built-footer> -->

    <script src="lib/jquery-ui/ui/jquery-ui.js"></script>
    <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.96.1/js/materialize.min.js"></script>
    <script src="lib/prism/prism.js"></script>-->
    <script src="lib/lodash/dist/lodash.js"></script>
    <script src="lib/moment/min/moment.min.js"></script>
    <!--<script src="lib/angular/angular.js"></script>-->
    <!--<script src="lib/angucomplete-alt/dist/angucomplete-alt.min.js"></script>
    <script src="lib/angular-cookies/angular-cookies.js"></script>-->
    <script src="lib/angular-sanitize/angular-sanitize.js"></script>
    <!--<script src="lib/angular-ui-router/release/angular-ui-router.js"></script>-->
    <script src="lib/angular-animate/angular-animate.js"></script>
    <script src="lib/angular-resource/angular-resource.js"></script>
    <script src="lib/angular-ui-utils/ui-utils.js"></script>
    <script src="lib/angular-socket-io/socket.min.js"></script>
    <script src="lib/angular-file-upload/angular-file-upload.js"></script>
    <script src="lib/angular-notify/angular-notify.js"></script>
    <script src="lib/angular-loading-bar/build/loading-bar.js"></script>
    <script src="lib/velocity/velocity.js"></script>
    <script src="lib/moment/min/moment-with-langs.js"></script>
    <script src="lib/lumx/dist/lumx.js"></script>
    <script src="lib/restangular/src/restangular.js"></script>

    <script src="js/components/angular-materialize/src/angular-materialize.js"></script>
    <script src="js/components/filters.js"></script>
    <script src="js/components/directive.js"></script>
    <!--<script src="js/components/angular-slimscroll/angular-slimscroll.js"></script>-->
    <!--<script src="js/components/socket/socket.service.js"></script>-->
    <script src="js/components/modal/modal.service.js"></script>

    <!--<script src="http://localhost:9000/socket.io-client/socket.io.js"></script>-->

    <!--<script src="http://ec2-52-25-224-160.us-west-2.compute.amazonaws.com:9000/socket.io-client/socket.io.js"></script>-->
    <!--<script src="js/directives/footer/footer-directive.js"></script>-->
    <script src="js/directives/header/header-directive.js"></script>
    <script src="js/directives/quote/quote-directive.js"></script>
    <script src="js/directives/upload/upload-directive.js"></script>
    <script src="js/directives/file/file-directive.js"></script>
    <script src="js/directives/task/task-directive.js"></script>
    <script src="js/directives/message/message-directive.js"></script>
    <script src="js/directives/notification/notification-directive.js"></script>
    <script src="js/directives/addOn/add-on-directive.js"></script>
    <script src="js/directives/addendum/addendum-directive.js"></script>
    <script src="js/directives/contenteditable/contenteditable-directive.js"></script>
    <script src="js/directives/create-package/create-package-directive.js"></script>
    <script src="js/directives/datepicker/datepicker-directive.js"></script>

    <script src="js/services/auth-service.js"></script>
    <script src="js/services/user-service.js"></script>
    <script src="js/services/contractors-services.js"></script>
    <script src="js/services/material-package-service.js"></script>
    <script src="js/services/project-service.js"></script>
    <script src="js/services/quote-service.js"></script>
    <script src="js/services/document-service.js"></script>
    <script src="js/services/upload-service.js"></script>
    <script src="js/services/team-service.js"></script>
    <script src="js/services/inviteToken-service.js"></script>
    <script src="js/services/package-invite-service.js"></script>
    <script src="js/services/package-service.js"></script>
    <script src="js/services/staff-package.js"></script>
    <script src="js/services/task-service.js"></script>
    <script src="js/services/file-service.js"></script>
    <script src="js/services/builder-package.js"></script>
    <script src="js/services/quote-request-service.js"></script>
    <script src="js/services/registry-for-contractor-service.js"></script>
    <script src="js/services/contractor-request-service.js"></script>
    <script src="js/services/material-request-service.js"></script>
    <script src="js/services/validate-invite-service.js"></script>
    <script src="js/services/notification-service.js"></script>
    <script src="js/services/message-service.js"></script>
    <script src="js/services/add-on-package-service.js"></script>
    <script src="js/services/variation-request-service.js"></script>
    <script src="js/services/device-service.js"></script>

    <script src="js/modules/auth/main.js"></script>
    <script src="js/modules/auth/signin/signin-controller.js"></script>
    <script src="js/modules/auth/signout/signout-controller.js"></script>

    <script src="js/modules/client/main.js"></script>
    <script src="js/modules/client/client-controller.js"></script>

    <script src="js/modules/contractor-request/main.js"></script>
    <script src="js/modules/contractor-request/contractor-package-in-process/contractor-package-in-process-controller.js"></script>
    <script src="js/modules/contractor-request/send-quote/send-quote-controller.js"></script>
    <script src="js/modules/contractor-request/view-contractor-request/view-contractor-request-controller.js"></script>

    <script src="js/modules/contractors/main.js"></script>
    <script src="js/modules/contractors/contractors-controller.js"></script>

    <script src="js/modules/dashboard/main.js"></script>
    <script src="js/modules/dashboard/dashboard-controller.js"></script>

    <script src="js/modules/error/main.js"></script>
    <script src="js/modules/error/error-controller.js"></script>

    <script src="js/modules/material-request/main.js"></script>
    <script src="js/modules/material-request/material-package-in-process/material-package-in-process-controller.js"></script>
    <script src="js/modules/material-request/send-quote/send-quote-controller.js"></script>
    <script src="js/modules/material-request/view-material-request/view-material-request-controller.js"></script>

    <script src="js/modules/materials/main.js"></script>
    <script src="js/modules/materials/materials-controller.js"></script>

    <script src="js/modules/project/main.js"></script>
    <script src="js/modules/project/create-project/create-project-controller.js"></script>
    <script src="js/modules/project/list-projects/list-projects-controller.js"></script>
    <script src="js/modules/project/view-project/view-project-controller.js"></script>

    <script src="js/modules/staff/main.js"></script>
    <script src="js/modules/staff/staff-controller.js"></script>

    <script src="js/modules/team/main.js"></script>
    <script src="js/modules/team/manager-team/manager-team-controller.js"></script>

    <script src="js/modules/user/main.js"></script>
    <script src="js/modules/user/user-controller.js"></script>

    <script src="js/modules/variation-request/main.js"></script>
    <script src="js/modules/variation-request/variation-in-process/variation-in-process-controller.js"></script>
    <script src="js/modules/variation-request/send-quote/send-quote-controller.js"></script>
    <script src="js/modules/variation-request/view-variation-request/view-variation-request-controller.js"></script>
    <script src="js/modules/thread/main.js"></script>
    <script src="js/modules/thread/thread-detail-controller.js"></script>
    <script src="js/modules/task/main.js"></script>
    <script src="js/modules/task/task-detail-controller.js"></script>
    <script src="js/modules/file/main.js"></script>
    <script src="js/modules/file/file-detail-controller.js"></script>

    <script src="assets/js/jquery.slimscroll.js"></script> 

    
  </body>
</html>
